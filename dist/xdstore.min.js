!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.xdstore=t()}}(function(){return function t(e,n,i){function r(a,o){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){!function(t,n){var i={version:"2.2.0",areas:{},apis:{},inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e},stringify:function(t){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t)},parse:function(t){try{return JSON.parse(t)}catch(e){return t}},fn:function(t,e){i.storeAPI[t]=e;for(var n in i.apis)i.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var r=i.inherit(i.storeAPI,function(t,e,n){return 0===arguments.length?r.getAll():void 0!==e?r.set(t,e,n):"string"==typeof t?r.get(t):t?r.setAll(t,e):r.clear()});return r._id=t,r._area=e||i.inherit(i.storageAPI,{items:{},name:"fake"}),r._ns=n||"",i.areas[t]||(i.areas[t]=r._area),i.apis[r._ns+r._id]||(i.apis[r._ns+r._id]=r),r},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=i.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e){if(!t)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=t,r=this[n];return r&&r.namespace||(r=i.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=r),e||r.area("session",i.areas.session)),r},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,r=i.length(this._area);r>n;n++){var s=this._out(i.key(this._area,n));if(void 0!==s&&t.call(this,s,e||this.get(s))===!1)break;r>i.length(this._area)&&(r--,n--)}return e||this},keys:function(){return this.each(function(t,e){e.push(t)},[])},get:function(t,e){var n=i.get(this._area,this._in(t));return null!==n?i.parse(n):e||n},getAll:function(){return this.each(function(t,e){e[t]=this.get(t)},{})},set:function(t,e,n){var r=this.get(t);return null!=r&&n===!1?e:i.set(this._area,this._in(t),i.stringify(e),n)||r},setAll:function(t,e){var n,i;for(var r in t)i=t[r],this.set(r,i,e)!==i&&(n=!0);return n},remove:function(t){var e=this.get(t);return i.remove(this._area,this._in(t)),e},clear:function(){return this._ns?this.each(function(t){i.remove(this._area,this._in(t))},1):i.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in i.areas)i.areas.hasOwnProperty(e)&&(this._area=i.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=i.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.list)this.removeItem(t)},toString:function(){return this.length+" items in "+this.name+"Storage"}}};t.store&&(i.conflict=t.store);var r=i.Store("local",function(){try{return localStorage}catch(t){}}());r.local=r,r._=i,r.area("session",function(){try{return sessionStorage}catch(t){}}()),"function"==typeof n&&void 0!==n.amd?n(function(){return r}):"undefined"!=typeof e&&e.exports?e.exports=r:t.store=r}(window,window.define)},{}],2:[function(t,e){function n(t){function e(){return s.instance+"-"+(s.messageId++ +1)}function n(t,n,i){s.target.postMessage({namespace:s.namespace,id:i||e(),name:t,data:n},s.permission)}function r(t){if(s.permission instanceof RegExp){if(!t.origin.match(s.permission))return}else if("*"!==t.origin&&"null"!==t.origin&&t.origin!==s.permission)return;var e=t.data;if(e.namespace===s.namespace){if("_init_"===e.name)return"PING"===e.data&&n("_init_","PONG"),s.onReady();a[e.name]&&a[e.name](e.data,function(t,i){n("_callback_"+e.name,{error:t,data:i},e.id)}),o[e.id]&&(o[e.id](e.data.error,e.data.data),delete o[e.id])}}if(!t.target)return{set:function(){},get:function(){},remove:function(){}};var s={target:t.target,onReady:t.onReady||function(){},namespace:t.namespace||"xdstore",permission:t.permission||"*",instance:Math.random().toString(36).substr(2,9),messageId:0},a={_set_:function(t,e){i.set(t.key,t.value),e(null)},_get_:function(t,e){e(null,i.get(t.key))},_remove_:function(t,e){e(null,i.remove(t.key))}},o={};return window.addEventListener("message",r,!1),setTimeout(function(){n("_init_","PING")},0),{set:function(t,i,r){var s=e();r&&(o[s]=r),n("_set_",{key:t,value:i},s)},get:function(t,i){var r=e();i&&(o[r]=i),n("_get_",{key:t},r)},remove:function(t,i){var r=e();i&&(o[r]=i),n("_remove_",{key:t},r)}}}var i=t("store2");e.exports=n},{store2:1}]},{},[2])(2)});